{"version":3,"file":"ui-frames.js","sources":["../../../src/mvc/ui/ui-frames.js"],"names":["define","View","Backbone","extend","defaultOptions","frame","cols","rows","cell","margin","scroll","top_min","frame_max","visible","top","top_max","frame_z","frame_counter","frame_uid","frame_list","frame_shadow","event","idle_counter","idle_timer","interval","idle_interval","skip_datatypes","data_target_frame","current_frame_id","initialize","options","self","this","_","defaults","setElement","$","addClass","$el","append","attr","id","screen_location","grid_location","grid_rank","grid_lock","_frameResize","width","height","show","hide","_panelRefresh","window","resize","render","add","Galaxy","modal","title","body","buttons","Close","frame_id","length","$frame_el","_frameTemplate","substring","$frame_content","find","_appendSliderTemplate","url","indexOf","datasetid","content","isFunction","_appendTabularDataAttributesTemplate","_toPixelCoord","parseInt","css","_frameInsert","left","trigger","del","$frame","fadeOut","remove","_panelAnimationComplete","fadeIn","type","events","mousemove","mouseup","mouseleave","mousewheel","DOMMouseScroll","mousedown .frame","mousedown .frame-background","mousedown .frame-scroll-up","mousedown .frame-scroll-down","mousedown .f-close","mousedown .f-pin","mousedown .f-scroll-left","mousedown .f-scroll-right","mouseenter .f-iframe","mouseleave .f-iframe","mouseenter .f-content","mouseleave .f-content","mousemove .f-content","mouseenter #content_table","mouseleave #content_table","_eventFrameMouseDown","e","target","hasClass","preventDefault","_frameIdentify","xy","x","originalEvent","pageX","y","pageY","_frameDragStart","_eventFrameMouseMove","event_xy_new","event_xy_delta","p","_frameScreen","min_dim","Math","max","_toGridCoord","_frameOffset","l","_registerMouseMoveInsideIframe","_eventFrameMouseUp","_frameDragStop","_eventFrameClose","_eventFrameLock","locked","_eventHide","_eventPanelScroll","frames","srcElement","parents","stopPropagation","_panelScroll","detail","wheelDelta","_eventPanelScroll_up","_eventPanelScroll_down","closest","_frameFocus","_frameGrid","px","sign","g","_toGrid","_toPixel","_isCollision","is_collision_pair","a","b","i","_locationRank","loc","animate","promise","done","delta","top_new","min","new_loc","place_list","push","each","f","sort","place","_framePlace","j","console","log","has_focus","_slideItem","direction","selector","frame_data_attribute","item_counter","all_items","attributes","value","all_items_count","childElementCount","displayed_item_id","current_item_id","item_id","element","element_id","item_element","frame_iframe","frame_table","children","split","prev","_jqueryFadeOutEffect","_fecthData","next","el","contents","_eventItemScroll_left","_mergeSlideEvents","_eventItemScroll_right","_getSelector","_clearIdleCounterInterval","_setTimeout","condition","dataset_id","current_element","dataset","frame_config","require","DATA","Dataset","when","fetch","then","get","is_tabular","data_type","tabular_dataset","TabularDataset","toJSON","parent_elt","createTabularDatasetChunkedView","model","embedded","root","toLowerCase","_changeData","_skipDatatypes","datatype","contains","curr_element","is_present","frame_content","frame_title","_removeTabularDataDiv","text","_eventShowItemSlider","_getCurrentFrameId","_fadeInSlider","_eventHideItemSlider","_fadeOutSlider","_frameIdle","this_var","_clearsInterval","clearInterval","setInterval","_eventRegainItemSlider","iframe_contents","on","source_element","parent","content_table"],"mappings":"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"}